{"version":3,"file":"commonHelpers.js","sources":["../src/js/index.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Function to make an HTTP request to the Pixabay API\nasync function searchImages(query) {\n    const API_KEY = '42262858-7b31826aafbc45fb5436f2ee9';\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    try {\n        const response = await fetch(url);\n\n        if (!response.ok) {\n            throw new Error('An error occurred while making the request.');\n        }\n\n        const data = await response.json();\n\n        if (data.hits.length === 0) {\n            // Show message about no results using the iziToast library\n            toastError('Sorry, there are no images matching your search query. Please try again!');\n        } else {\n            // Process the received data and display the images in your web application\n            displayImages(data.hits);\n        }\n    } catch (error) {\n        console.error('Error:', error.message);\n        // Handling error while making the request\n        // You can also show an error message using the iziToast library\n        toastError(`Error fetching images: ${error}`);\n    }\n}\n\n// Function to display images in your web application\nfunction displayImages(images) {\n    const gallery = document.getElementById('gallery');\n    gallery.innerHTML = '';\n\n    for (let i = 0; i < Math.min(images.length, 15); i++) {\n        const card = createImageCard(images[i]);\n        gallery.appendChild(card);\n    }\n\n    // Initialize SimpleLightbox after adding new images\n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n}\n\n// Function to create HTML markup for image card\nfunction createImageCard(image) {\n    const card = document.createElement('div');\n    card.classList.add('card');\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n\n    const overlay = document.createElement('div');\n    overlay.classList.add('overlay');\n\n    const details = document.createElement('div');\n    details.classList.add('details');\n    details.innerHTML = `\n        <p>Likes: ${image.likes}</p>\n        <p>Views: ${image.views}</p>\n        <p>Comments: ${image.comments}</p>\n        <p>Downloads: ${image.downloads}</p>\n    `;\n\n    overlay.appendChild(details);\n    card.appendChild(img);\n    card.appendChild(overlay);\n\n    card.addEventListener('click', () => openModal(image.largeImageURL, image.tags));\n\n    return card;\n}\n\n// Function to open modal with large image\nfunction openModal(largeImageUrl, altText) {\n    const modal = document.createElement('div');\n    modal.classList.add('modal');\n    modal.innerHTML = `\n        <div class=\"modal-content\">\n            <span class=\"close-modal\">&times;</span>\n            <img src=\"${largeImageUrl}\" alt=\"${altText}\">\n        </div>\n    `;\n\n    document.body.appendChild(modal);\n\n    // Close modal when close button is clicked\n    const closeModalButton = modal.querySelector('.close-modal');\n    closeModalButton.addEventListener('click', () => {\n        closeModal(modal);\n    });\n\n    // Close modal when 'Esc' key is pressed\n    document.addEventListener('keydown', (event) => {\n        if (event.key === 'Escape') {\n            closeModal(modal);\n        }\n    });\n}\n\n// Function to close modal\nfunction closeModal(modal) {\n    document.body.removeChild(modal);\n}\n\n// Function to show error message using iziToast library\nfunction toastError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        backgroundColor: '#EF4040',\n        progressBarColor: '#FFE0AC',\n        icon: 'icon-close',\n        position: 'topRight',\n        displayMode: 'replace',\n        closeOnEscape: true,\n        pauseOnHover: false,\n        maxWidth: 432,\n        messageSize: '16px',\n        messageLineHeight: '24px',\n    });\n}\n\n// Function to initialize search functionality\nfunction initializeSearch() {\n    const form = document.querySelector('.search-form');\n    form.addEventListener('submit', function(event) {\n        event.preventDefault();\n        const queryInput = event.target.elements.query.value.trim();\n\n        if (queryInput === '') {\n            toastError('Please enter a search query.');\n            return;\n        }\n\n        searchImages(queryInput);\n    });\n}\n\n// Initialize search functionality when the DOM is fully loaded\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeSearch();\n});"],"names":["searchImages","query","url","response","data","toastError","displayImages","error","images","gallery","i","card","createImageCard","SimpleLightbox","image","img","overlay","details","openModal","largeImageUrl","altText","modal","closeModal","event","message","iziToast","initializeSearch","queryInput"],"mappings":"6vBAOA,eAAeA,EAAaC,EAAO,CAE/B,MAAMC,EAAM,qEAA6C,mBAAmBD,CAAK,CAAC,2DAElF,GAAI,CACA,MAAME,EAAW,MAAM,MAAMD,CAAG,EAEhC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,6CAA6C,EAGjE,MAAMC,EAAO,MAAMD,EAAS,OAExBC,EAAK,KAAK,SAAW,EAErBC,EAAW,0EAA0E,EAGrFC,EAAcF,EAAK,IAAI,CAE9B,OAAQG,EAAO,CACZ,QAAQ,MAAM,SAAUA,EAAM,OAAO,EAGrCF,EAAW,0BAA0BE,CAAK,EAAE,CAC/C,CACL,CAGA,SAASD,EAAcE,EAAQ,CAC3B,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,GAEpB,QAASC,EAAI,EAAGA,EAAI,KAAK,IAAIF,EAAO,OAAQ,EAAE,EAAGE,IAAK,CAClD,MAAMC,EAAOC,EAAgBJ,EAAOE,CAAC,CAAC,EACtCD,EAAQ,YAAYE,CAAI,CAC3B,CAGgB,IAAIE,EAAe,YAAY,EACvC,QAAO,CACpB,CAGA,SAASD,EAAgBE,EAAO,CAC5B,MAAMH,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAMI,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMD,EAAM,aAChBC,EAAI,IAAMD,EAAM,KAEhB,MAAME,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,SAAS,EAE/B,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5C,OAAAA,EAAQ,UAAU,IAAI,SAAS,EAC/BA,EAAQ,UAAY;AAAA,oBACJH,EAAM,KAAK;AAAA,oBACXA,EAAM,KAAK;AAAA,uBACRA,EAAM,QAAQ;AAAA,wBACbA,EAAM,SAAS;AAAA,MAGnCE,EAAQ,YAAYC,CAAO,EAC3BN,EAAK,YAAYI,CAAG,EACpBJ,EAAK,YAAYK,CAAO,EAExBL,EAAK,iBAAiB,QAAS,IAAMO,EAAUJ,EAAM,cAAeA,EAAM,IAAI,CAAC,EAExEH,CACX,CAGA,SAASO,EAAUC,EAAeC,EAAS,CACvC,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAU,IAAI,OAAO,EAC3BA,EAAM,UAAY;AAAA;AAAA;AAAA,wBAGEF,CAAa,UAAUC,CAAO;AAAA;AAAA,MAIlD,SAAS,KAAK,YAAYC,CAAK,EAGNA,EAAM,cAAc,cAAc,EAC1C,iBAAiB,QAAS,IAAM,CAC7CC,EAAWD,CAAK,CACxB,CAAK,EAGD,SAAS,iBAAiB,UAAYE,GAAU,CACxCA,EAAM,MAAQ,UACdD,EAAWD,CAAK,CAE5B,CAAK,CACL,CAGA,SAASC,EAAWD,EAAO,CACvB,SAAS,KAAK,YAAYA,CAAK,CACnC,CAGA,SAAShB,EAAWmB,EAAS,CACzBC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,gBAAiB,UACjB,iBAAkB,UAClB,KAAM,aACN,SAAU,WACV,YAAa,UACb,cAAe,GACf,aAAc,GACd,SAAU,IACV,YAAa,OACb,kBAAmB,MAC3B,CAAK,CACL,CAGA,SAASE,GAAmB,CACX,SAAS,cAAc,cAAc,EAC7C,iBAAiB,SAAU,SAASH,EAAO,CAC5CA,EAAM,eAAc,EACpB,MAAMI,EAAaJ,EAAM,OAAO,SAAS,MAAM,MAAM,OAErD,GAAII,IAAe,GAAI,CACnBtB,EAAW,8BAA8B,EACzC,MACH,CAEDL,EAAa2B,CAAU,CAC/B,CAAK,CACL,CAGA,SAAS,iBAAiB,mBAAoB,UAAW,CACrDD,GACJ,CAAC"}